\documentclass[prb,preprint]{revtex4-1} 
% The line above defines the type of LaTeX document.
% Note that AJP uses the same style as Phys. Rev. B (prb).

% The % character begins a comment, which continues to the end of the line.

\usepackage{amsmath}  % needed for \tfrac, \bmatrix, etc.
\usepackage{amsfonts} % needed for bold Greek, Fraktur, and blackboard bold
\usepackage{graphicx} % needed for figures
\usepackage{listings}

\begin{document}

% Be sure to use the \title, \author, \affiliation, and \abstract macros
% to format your title page.  Don't use lower-level macros to  manually
% adjust the fonts and centering.

\title{Fast Pulsed Short Solenoid Simulation
}
% In a long title you can use \\ to force a line break at a certain location.

\author{Alan DeSilva}
\email{hcarter333@tamu.edu} % optional
% optional second address
% If there were a second author at the same address, we would put another 
% \author{} statement here.  Don't combine multiple authors in a single
% \author statement.
\affiliation{Department of Physics, University of Maryland, College Park, MD 77843}
% Please provide a full mailing address here.

\author{Hamilton B. Carter}
\email{hcarter333@tamu.edu}
\affiliation{Department of Physics, Texas A\&M University, TX 77843}

% See the REVTeX documentation for more examples of author and affiliation lists.

\date{\today}

\begin{abstract}
This brief note  presents an updated version of DeSilva's can crusher simulator, whose results were first published 20 years ago in conjunction with the design of an associated laboratory demonstration.  The original simulator has been updated from IDL to Python running in the SageMath framework and open-sourced.  The code has also been re-structured into an object oriented architecture that allows for simple input of can crusher solenoid parameters.  This allows multiple solenoids with varying configurations to be simulated and compared.  We describe the facilities the updated simulator provides, along with the basics of its use.  While we're using the simulator to design apparatus for the study of bulk properties of superconducators, it can also be used conjunction with a can crusher apparatus as either part of an interactive demonstration laboratory.
\end{abstract}
% AJP requires an abstract for all regular article submissions.
% Abstracts are optional for submissions to the "Notes and Discussions" section.

\maketitle % title page is now complete


\section{Introduction} % Section titles are automatically converted to all-caps.
% Section numbering is automatic.

Our study of the dynamic behavior of rapidly quenched bulk superconductors has created a rather unique set of apparatus requirements.  In order to perform the experiment, a sample of superconducting Pb must be quenched by a magnetic field in less than 100 microseconds.  This requires a pulsed magnetic field of approximately 1 kG in magnitude with a transient pulse width of less than 100 microseconds.  For our purposes, the imploding soda can apparatus \textemdash also known as a can crusher \textemdash described by Alan DeSilva in his 1994 paper\cite{desilvacan} in this journal fit the bill perfectly.  The paper compared the results of a simulated apparatus with measurements made the actual apparatus  Dr. DeSilva was kind enough to locate the original IDL simulator code and forward it to us.  We have performed a language port, re-architected, and open sourced the simulator.  In Section II, we describe the language port and new object oriented structure of the simulator code.  In Section III, we describe how we have used the simulator for feasibility studies in our research.  We also provide code snippets and detailed instructions for using the simulator from any web browser.  Finally, in section IV, we describe plans to use the simulator as part of an interactive laboratory demonstration.
\\
\\
\section{Making the Simulator Accessible}
While IDL is still quite ubiquitous, and a free version known as GDL can be installed on Linux platforms, we decided to port the code to Python that would execute within the SageMath platform.  This decision was reached because our teams is familiar with Python and the language is a commonly known language among young physicists, In addition to this, the National Science Foundation and Google have funded a cloud based implementation of SageMath with a web browser based interface that is publicly accessible.  By making the port to Python/SageMath, we opened access to the simulator to the scientific community in a way that made it freely accessible and usable in a matter of minutes with no software installs, or operating system concerns.
In addition to the language port, we changed to an object oriented architecture.  While only the most rudimentary object architected structures has been put in place, it has already allowed us to simulate different solenoid parameters and their pertinence to our research with ease.  The basic object in the simulator is a member of the Crusher class.  Each Crusher object has its own set of parameters such as the number of coils in the solenoid, the temperature sensitive resistivity of the solenoid, and the temperature that the solenoid is to be operated in.  For example, the following code sets up the solenoid object with a radius of $3.8 cm$, an initial power supply voltage of $5000 Volts$, and an operating temperature of $4.2 K$.  the set\_movecan method tells the code we're simulating an immovable object, in our case, a solid Pb sample, as opposed to a compressible soda can.
\\\\\\
\lstset{language=Python}
\begin{lstlisting}[frame=single]
load('./crushersim.sage')
#Set simulation time once
tickcount = 290
#This simulation calculates result for the coil size appropriate
#to the small YBCO sample
crushR = Crusher()
crushR.setr(3.8e-2)
crushR.setVnought(5000)
crushR.set_movecan(False)
crushR.setTemp(4.2)
crushR.simulate(tickcount)
#Find the maximum current

#Now plot the results ...
\end{lstlisting}
These simple additions allowed us to create simulations that could answer many questions about our experimental design without the expense of building and testing different pulsed magnetic solenoids.  Questions like, 
\\
1.  How does the transient response of the solenoid driving current change with respect to the operating temperature? (figure 1) 
\\
2.  How does the maximum magnetic field change with the radius of the solenoid? (figure 2) 
\\
3.  How does the transient response of the solenoid driving current change with respect to the solenoid radius? (figure 1) 
\\
By creating multiple solenoid objects with different parameters pertaining to each of the above scenarios, these questions could easily be answered.  A sample result pertaining to each of the above scenarios is shown in the figures below.

\begin{figure}[page]
\centering
\includegraphics[width=5in]{42Current.PNG}
% Notice the width specification.  Photographs should normally have a
% resolution of approximately 300 pixels per inch when printed, that is,
% a total width of about 1000 pixels for a photo to be printed one column
% wide.  Note also that this included photo is in .jpg format even though 
% a .tiff version should be submitted for final production.
\caption{Current vs. time for the same solenoid at room temp and at liquid helium temperature.}
\label{sunsets}
\end{figure}
\begin{figure}[h!]
\centering
\includegraphics[width=5in]{HBigSmall42.PNG}
% Notice the width specification.  Photographs should normally have a
% resolution of approximately 300 pixels per inch when printed, that is,
% a total width of about 1000 pixels for a photo to be printed one column
% wide.  Note also that this included photo is in .jpg format even though 
% a .tiff version should be submitted for final production.
\caption{Field available for different solenoid radii corresponding to different supercondutor samples to be quenched.}
\label{sunsets}
\end{figure}
\begin{figure}[h!]
\centering
\includegraphics[width=5in]{bigsmallcurrent42.PNG}
% Notice the width specification.  Photographs should normally have a
% resolution of approximately 300 pixels per inch when printed, that is,
% a total width of about 1000 pixels for a photo to be printed one column
% wide.  Note also that this included photo is in .jpg format even though 
% a .tiff version should be submitted for final production.
\caption{Field available for different solenoid radii corresponding to different supercondutor samples to be quenched.}
\label{sunsets}
\end{figure}
\section{Conclusions}
The code form Dr. DeSilva's 1994 project has been ressurected and made freely available to anyone who would like to use it or work on the project at \url{https://github.com/hcarter333/cancrusher}.  We have been able to simplify several experimental design decisions using this simulation code that gives us an advanced picture of our pulsed magentic fiedl apparatus will behave without having to actually construct equipment and perform time consuming characterizations.

\begin{acknowledgments}
The authors gratefully acknowledge helpful discussions with and suggestions from Alan DeSilva.  HBC was supported by a grant from the Texas Academy of Sciences \#0968269.\end{acknowledgments}

\begin{thebibliography}{99}
% The numeral (here 99) in curly braces is nominally the number of entries in
% the bibliography. It's supposed to affect the amount of space around the
% numerical labels, so only the number of digits should matter--and even that
% seems to make no discernible difference.
% The issue number (3) in this citation is optional, because AJP's pagination 
% is by volume.

\bibitem{desilvacan} DeSilva, A. W., ``Magnetically imploded soft drink can", The American Journal of Physics, \textbf{62}, 41--45 (1994).  



\end{thebibliography}

% If your manuscript is conditionally accepted, the editors will ask you to
% submit your editable LaTeX source file.  Before doing so, you should move
% all tables and figure captions to the end, as shown below.  Tables come 
% first, followed by figure captions (with figure inclusions commented-out).
% Figures should be submitted as separate files, collected with the
% LaTeX file into a single .zip archive.

%\newpage   % Start a new page for tables

%\begin{table}[h!]
%\centering
%\caption{Elementary bosons}
%\begin{ruledtabular}
%\begin{tabular}{l c c c c p{5cm}}
%Name & Symbol & Mass (GeV/$c^2$) & Spin & Discovered & Interacts with \\
%\hline
%Photon & $\gamma$ & \ \ 0 & 1 & 1905 & Electrically charged particles \\
%Gluons & $g$ & \ \ 0 & 1 & 1978 & Strongly interacting particles (quarks and gluons) \\
%Weak charged bosons & $W^\pm$ & \ 82 & 1 & 1983 & Quarks, leptons, $W^\pm$, $Z^0$, $\gamma$ \\
%Weak neutral boson & $Z^0$ & \ 91 & 1 & 1983 & Quarks, leptons, $W^\pm$, $Z^0$ \\
%Higgs boson & $H$ & 126 & 0 & 2012 & Massive particles (according to theory) \\
%\end{tabular}
%\end{ruledtabular}
%\label{bosons}
%\end{table}

%\newpage   % Start a new page for figure captions

%\section*{Figure captions}

%\begin{figure}[h!]
%\centering
%\includegraphics{GasBulbData.eps}   % This line stays commented-out
%\caption{Pressure as a function of temperature for a fixed volume of air.  
%The three data sets are for three different amounts of air in the container. 
%For an ideal gas, the pressure would go to zero at $-273^\circ$C.  (Notice
%that this is a vector graphic, so it can be viewed at any scale without
%seeing pixels.)}

%\label{gasbulbdata}
%\end{figure}

%\begin{figure}[h!]
%\centering
%\includegraphics[width=5in]{ThreeSunsets.jpg}   % This line stays commented-out
%\caption{Three overlaid sequences of photos of the setting sun, taken
%near the December solstice (left), September equinox (center), and
%June solstice (right), all from the same location at 41$^\circ$ north
%latitude. The time interval between images in each sequence is approximately
%four minutes.}
%\label{sunsets}
%\end{figure}

\end{document}
